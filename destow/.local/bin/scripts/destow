#!/usr/bin/bash

#      _           _
#   __| | ___  ___| |_ _____      __
#  / _` |/ _ \/ __| __/ _ \ \ /\ / /
# | (_| |  __/\__ \ || (_) \ V  V / 
#  \__,_|\___||___/\__\___/ \_/\_/  


PROGNAME=$(basename $0);

NC='\033[0m'
YELLOW='\033[1;33m'
GREEN='\033[1;32m'
RED='\033[1;31m'

if [ -z "${1}" ]; then
    # TODO: mensagem de ajuda
    echo "USAGE: ${PROGNAME} [TARGET DIR]";
    exit 1;
elif [ ! -d "${1}" ]; then
    echo "${PROGNAME}: ${1}: Not a directory.";
    exit 1;
fi

# Add warning message
 
for PACKAGE in * ; do
    stow -nvt ~ $PACKAGE &&
        printf "${GREEN}${PROGNAME}${NC}: package [${PACKAGE}] stowed succesfully\n" ||
        printf "${YELLOW}${PROGNAME}${NC}: failed to stow package [${RED}${PACKAGE}${NC}]\n"
done

# Print "X packages stowed succesfully - X packages failed: pkg1, pkg2 ..."

exit 0

